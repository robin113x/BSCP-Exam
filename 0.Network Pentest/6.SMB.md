# SMB/samba (Server MESSAGE BLOCK)
	- port 139,445
	- file sharing network 
	- Printing server
	- application layer protocaol 
	- uses tcp/ip


## Banner grabbing

```bash
nmblookup -A $target

nbtscan $target

nmap -n --script nbstat $target

# Nmap to discover SMB services
nmap -p 139,445 --open -sV $target

# Nmap script for SMB version
nmap --script smb-protocols -p 139,445 $target

nmap -p 139,445 --script smb-os-discovery -v $target

nc $$target 445
```


## Enumeration

	- Discover and enumerate SMB shares on target systems.

```bash


# List shares anonymously
smbclient -L //$target -N

# List shares with credentials
smbclient -L //$target -U username%password

# Connect to specific share
smbclient //$target/sharename -U username%password

# Basic share enumeration
smbmap -H $target

# With credentials
smbmap -H $target -u username -p password

# Recursive enumeration
smbmap -H $target -u username -p password -r

```

## Connect 

```bash
impacket-smbclient -no-pass $target1

smbclient //$target1/tmp --
```