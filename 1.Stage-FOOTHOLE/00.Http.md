# HTTP (Hypertext Transfer Protocol) Notes
- Client-Server based	architecture
- Request‐Response model to serve Resources

## 1. Basic Netcat Example
```bash
nc example.com 80
```



## 2. HTTP Request Methods
- GET – Sends parameters in URL (e.g., ?id=1)
- POST – Sends data in the message body (e.g., form submission)
- OPTIONS – Lists supported HTTP methods for a URL
- HEAD – Like GET but returns headers only (no messagebody)
- TRACE – Echoes back client request (used fordiagnostics)
- PUT – Uploads a resource to a specific URI
- DELETE – Deletes the specified resource
- PATCH - Applies partial modifications to the resource at the specified location.
- Example with Curl:
```bash
Curl -v -X GET example.com
#  -X OPTIONS	Set HTTP Method with Curl
```
## 2.1 Response Codes
- HTTP status codes are used to tell the client the status of their request. An HTTP server can return five types of response codes:


|Type| 	Description|
|----|--------------|
|1xx	| Provides information and does not affect the processing of the request.|
|2xx	| Returned when a request succeeds.|
|3xx	| Returned when the server redirects the client.|
|4xx	| Signifies improper requests from the client. For example, requesting a resource that doesn't exist or requesting a bad format.|
|5xx	| Returned when there is some problem with the HTTP server itself.|



# 3 HTTP Headers & Authentication

## 3.1 HTTP Headers

### **General Headers**
- Applied to both request and response messages.
- Provide meta-information about the communication.
- Examples:
  ```http
  Date: Sun, 24 Aug 2025 10:00:00 GMT
  Connection: keep-alive
  Cache-Control: no-cache
  ```
### ***Entity Headers***
- Describe the content (entity-body) of the message.
- Examples:
```http
Content-Type: text/html
Content-Length: 348
Content-Encoding: gzip
Last-Modified: Sat, 23 Aug 2025 14:00:00 GMT
```
### ***Request Headers***
- Sent by the client to provide context and parameters for the request.
- Examples:
```bash
Host: example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)
Accept: text/html
Cookie: sessionid=abc123
Authorization: Basic YWRtaW46cGFzc3dvcmQ=
```
### ***Response Headers***
- Sent by the server to provide context about the response.
- Examples:
```bash
Server: Apache/2.4.41 (Ubuntu)
Set-Cookie: sessionid=xyz789; HttpOnly; Secure
Content-Security-Policy: default-src 'self'
```
### ***Security Headers***
- Used to enforce security policies on the client/browser.
- Examples:
```bash
Content-Security-Policy: default-src 'self'
Strict-Transport-Security: max-age=31536000; includeSubDomains
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```

# 3.2 HTTP Authentication
- **Basic Authentication** : Encodes username and password using Base64.
- Example:
```
GET /admin HTTP/1.1
Host: example.com
Authorization: Basic YWRtaW46cGFzc3dvcmQ=

#Decode using:
echo "YWRtaW46cGFzc3dvcmQ=" | base64 -d
# Output: admin:password
```

- **Digest Authentication** : Uses MD5 hashing for credentials and challenge-response mechanism.

- Example Flow:
	- Client requests a resource.
	- Server responds with 401 Unauthorized and sends a nonce.
	- Client hashes username, password, nonce, and URI → sends Authorization header.
```bash
GET /admin HTTP/1.1
Host: example.com
Authorization: Digest username="admin",
               realm="testrealm@host.com",
               nonce="dcd98b7102dd2f0e8b11d0f600bfb0c093",
               uri="/admin",
               response="6629fae49393a05397450978507c4ef1"
```

# 3.3 Authentication Bypass
- Some servers only enforce authentication on GET and POST methods but not on HEAD requests.
Example:
```bash
# GET request (requires authentication)
curl -v -X GET http://example.com/admin

# HEAD request (may bypass authentication)
curl -v -X HEAD http://example.com/admin
```


## 4. HTTP Verb Tampering

- Attackers may bypass access controls by using unexpected HTTP verbs.
- Tools:
	- Metasploit
		- scanner/http/options
		- auxiliary/scanner/http/verb_auth_bypass
	- Nmap
		- http-methods.ns
		- http-method-tamper

PoC:
```BASH
# Discover allowed HTTP methods
curl -v -X OPTIONS http://example.com/

# Attempt restricted resource access using HEAD/PUT/DELETE
curl -v -X HEAD http://example.com/admin
curl -v -X PUT http://example.com/resource
curl -v -X DELETE http://example.com/resource
```



# HTTP Statelessness
Meaning: HTTP is a stateless protocol, meaning each request from a client to a server is independent.
The server does not retain any information (session, authentication status, previous actions) between requests.
Example: If you log in to a website and then visit another page, the server wouldn’t remember you unless additional mechanisms (like cookies, sessions, or tokens) are used.